let input =
  // `12345678`
  // `80871224585914546619083218645595`
  // `19617804207202209144916044189917`
  // `69317163492948606335995924319873`
  `59762574510031092870627555978901048140761858379740610694074091049186715780458779281173757827279664853239780029412670100985236587608814782710381775353184676765362101185238452198186925468994552552398595814359309282056989047272499461615390684945613327635342384979527937787179298170470398889777345335944061895986118963644324482739546009761011573063020753536341827987918039441655270976866933694280743472164322345885084587955296513566305016045735446107160972309130456411097870723829697443958231034895802811058095753929607703384342912790841710546106752652278155618050157828313372657706962936077252259769356590996872429312866133190813912508915591107648889331`
  .split("").map(e=>+e);

console.log('Initial', input.join('').slice(0,8));

for (let i = 0; i < 100; i++) {
  input = fft(input);
  console.log('PHASE', i+1, input.join('').slice(0,8));
}

console.log('ANSWER 16-1', input.join('').slice(0,8));

function fft(input) {
  let inLen = input.length;
  const output = [];
  for (let i = 0; i < inLen; i++) {
    const pattern = makePattern(i+1);
    const plen = pattern.length;
    // console.log(i, 'PATTERN', pattern);
    const newV = input.reduce((acc, v, idx) => {
      acc += v * pattern[ (idx + 1) % plen ];
      return acc;
    }, 0);
    const s = newV+'';
    output.push(+s[s.length-1]);
  }
  return output;
}

function makePattern(n) {
  const src = [0, 1, 0, -1];
  return src.map(e => new Array(n).fill(e))
    .flat();
}

console.log();
